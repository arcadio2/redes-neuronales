<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="jscolor.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>

    <title>Red neuronal</title>
    <style type="text/css">
        #cuadro{
            padding: 5rem;
            font-size: 5rem;
            margin-left: 15rem;
        }
    </style>
</head>
<body>
    <input class="jscolor {onFineChange:'update(this)'}" 
        onchange="update(this.jscolor, 'rect2')" value="cc66ff">

    <div id="cuadro">
        Ejemplo de red neuronal
    </div>

    <script src="red.js"></script>

    <script type="text/javascript">

       /*  const surface = tfvis.visor().surface(
            { name: 'Input Data Examples', tab: 'Input Data'}
            ); */

        function update(color){
            console.log(color.channels)
            let elemento = document.getElementById('cuadro'); 
            let canales = color.channels
            let texto = `rgb(${canales.r},${canales.g},${canales.b})`
  
            elemento.style.background =texto;  

            let r = canales.r/255
            let g = canales.g/255
            let b = canales.b/255

            prediccion  = model.predict( tf.tensor([ [r,g,b] ],[1,3]) )
           // alert(prediccion)
            valor = prediccion.toString().replace("Tensor","").replace(",","")
            valor = JSON.parse(valor)[0]
            console.log(valor)
            let color_b = 0
            if(valor>0.5){
                color_b = 1
            }
            if(color_b==1){
                elemento.style.color="white";
            }else{
                elemento.style.color="black";
            }
            /*Creamos la red*/
             //agregamos una capa al modelo
          
            
        }
    </script>

</body>
</html>